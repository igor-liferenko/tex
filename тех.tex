\catcode`\{=1
\catcode`\}=2
\catcode`\#=6
\def\transformfont#1#2#3#4#5 {%
  \if#1c%
    \if#3m%
      cmm#4#5 % cmmi[5-10], cmmib10
    \else
      \if#3b%
        \if#4s%
          cmbs#5 % cmbsy10
        \else
          omb#4#5
        \fi
      \else
        \if#3s%
          \if#4y%
            cmsy#5 % cmsy[5-10]
          \else
            oms#4#5
          \fi
        \else
          \if#3e%
            cme#4#5 % cmex10
          \else
            om#3#4#5
          \fi
        \fi
      \fi
    \fi
  \else
    #1#2#3#4#5 % manfnt
  \fi}
\let\originalfont\font
\def\font#1=#2 {\originalfont#1=\transformfont#2 }

\input plain

\let\font\originalfont
\let\originalfont\undefined
\let\transformfont\undefined

\def\set #1 #2 {
  \lccode`#1=`#2
  \lccode`#2=`#2
  \uccode`#1=`#1
  \uccode`#2=`#1
  \sfcode`#1=999
  \sfcode`#2=1000

  \count255=`#1
  \advance\count255 by "7100
  \mathcode`#1=\count255
  \count255=`#2
  \advance\count255 by "7100
  \mathcode`#2=\count255
}

\set А а
\set Б б
\set В в
\set Г г
\set Д д
\set Е е
\set Ё ё
\set Ж ж
\set З з
\set И и
\set Й й
\set К к
\set Л л
\set М м
\set Н н
\set О о
\set П п
\set Р р
\set С с
\set Т т
\set У у
\set Ф ф
\set Х х
\set Ц ц
\set Ч ч
\set Ш ш
\set Щ щ
\set Ъ ъ
\set Ы ы
\set Ь ь
\set Э э
\set Ю ю
\set Я я

\let\set=\undefined

\righthyphenmin=2
\language1
\input ruhyphal % TODO: convert hyph-ru.tex from T2A to CP866
